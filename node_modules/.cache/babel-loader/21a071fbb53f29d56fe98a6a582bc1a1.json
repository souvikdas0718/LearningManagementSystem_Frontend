{"ast":null,"code":"var _jsxFileName = \"/Users/souvikdas/WebstormProjects/Group-9-Fronend/src/components/login/index.js\";\nimport React, { useState } from \"react\";\nimport { Form, Container, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nconst initialData = {\n  email: \"\",\n  password: \"\"\n};\nconst initialData1 = {\n  token: \"\",\n  email: \"\",\n  question: \"\",\n  answer: \"\"\n};\n\nfunction Login(props) {\n  const [show, setShow] = useState(false);\n  const [formData, setFormData] = useState(initialData);\n  const [newData, setNewData] = useState(initialData1);\n  const [error, setError] = useState(\"\");\n  const [error1, setError1] = useState(\"\");\n\n  const handleAnswer = () => {\n    // console.clear();\n    const URI = \"https://us-central1-serverless-project-283717.cloudfunctions.net/userAuthentication\";\n    console.log(URI);\n    axios({\n      url: URI,\n      method: \"POST\",\n      data: {\n        email: newData.email,\n        question: newData.question,\n        answer: newData.answer\n      }\n    }).then(res => {\n      const temp = res.data[\"message\"];\n\n      if (temp === \"User authenticate success\") {\n        console.log(newData);\n        localStorage.setItem('token', newData.token);\n        localStorage.setItem('email', newData.email);\n        props.history.push('/faq');\n      } else {\n        setError1(temp);\n      }\n    }).catch(({\n      response\n    }) => {\n      console.log(response);\n      setError1(\"Some internal error occurred!\");\n    });\n  };\n\n  const handleSubmit = () => {\n    // console.clear();\n    const URI = process.env.REACT_APP_LOGIN_URL;\n    console.log(URI);\n    axios({\n      url: URI,\n      method: \"POST\",\n      data: formData\n    }).then(res => {\n      console.log(res.data);\n      setNewData({ ...newData,\n        question: res.data[\"question\"],\n        email: res.data[\"email\"],\n        token: res.data[\"token\"]\n      });\n      setShow(true);\n    }).catch(({\n      response\n    }) => {\n      console.log(response[\"data\"][\"Error\"]);\n      setError(response[\"data\"][\"Error\"]);\n      setShow(false);\n    });\n  };\n\n  return !show ? /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, error !== \"\" && /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 24\n    }\n  }, error), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    value: formData.email,\n    placeholder: \"Enter email\",\n    onChange: e => setFormData({ ...formData,\n      email: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    value: formData.password,\n    placeholder: \"Enter password\",\n    onChange: e => setFormData({ ...formData,\n      password: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    type: \"submit\",\n    onClick: () => setFormData(initialData),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"Clear\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"warning\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    className: \"ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, \"Login\"))) : /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, error1 !== \"\" && /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, error1), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, \"Question\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: newData.question,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Answer\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    value: newData.answer,\n    placeholder: \"Enter your answer\",\n    onChange: e => setNewData({ ...newData,\n      answer: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"warning\",\n    type: \"submit\",\n    onClick: handleAnswer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/souvikdas/WebstormProjects/Group-9-Fronend/src/components/login/index.js"],"names":["React","useState","Form","Container","Button","Alert","axios","initialData","email","password","initialData1","token","question","answer","Login","props","show","setShow","formData","setFormData","newData","setNewData","error","setError","error1","setError1","handleAnswer","URI","console","log","url","method","data","then","res","temp","localStorage","setItem","history","push","catch","response","handleSubmit","process","env","REACT_APP_LOGIN_URL","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Container, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst initialData = {\n  email: \"\",\n  password: \"\",\n};\nconst initialData1 = {\n  token: \"\",\n  email: \"\",\n  question: \"\",\n  answer: \"\",\n};\n\nfunction Login(props) {\n  const [show, setShow] = useState(false);\n  const [formData, setFormData] = useState(initialData);\n  const [newData, setNewData] = useState(initialData1);\n  const [error, setError] = useState(\"\");\n  const [error1, setError1] = useState(\"\");\n\n  const handleAnswer = () => {\n    // console.clear();\n    const URI = \"https://us-central1-serverless-project-283717.cloudfunctions.net/userAuthentication\";\n    console.log(URI);\n    axios({\n      url: URI,\n      method: \"POST\",\n      data: {\n        email: newData.email,\n        question: newData.question,\n        answer: newData.answer,\n      },\n    })\n      .then((res) => {\n        const temp = res.data[\"message\"];\n        if (temp === \"User authenticate success\") {\n          console.log(newData)\n          localStorage.setItem('token',newData.token);\n          localStorage.setItem('email',newData.email);\n          props.history.push('/faq')\n        } else {\n          setError1(temp);\n        }\n      })\n      .catch(({ response }) => {\n        console.log(response);\n        setError1(\"Some internal error occurred!\");\n      });\n  };\n\n  const handleSubmit = () => {\n    // console.clear();\n    const URI = process.env.REACT_APP_LOGIN_URL;\n    console.log(URI);\n    axios({\n      url: URI,\n      method: \"POST\",\n      data: formData,\n    })\n      .then((res) => {\n        console.log(res.data);\n        setNewData({\n          ...newData,\n          question: res.data[\"question\"],\n          email: res.data[\"email\"],\n          token: res.data[\"token\"],\n        });\n        setShow(true);\n      })\n      .catch(({ response }) => {\n        console.log(response[\"data\"][\"Error\"]);\n        setError(response[\"data\"][\"Error\"]);\n        setShow(false);\n      });\n  };\n\n  return !show ? (\n    <Container className={\"mt-5\"}>\n      {error !== \"\" && <Alert variant={\"danger\"}>{error}</Alert>}\n      <Form.Group controlId=\"formBasicEmail\">\n        <Form.Label>Email</Form.Label>\n        <Form.Control\n          type=\"email\"\n          value={formData.email}\n          placeholder=\"Enter email\"\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n        />\n      </Form.Group>\n      <Form.Group controlId=\"formBasicEmail\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          type=\"password\"\n          value={formData.password}\n          placeholder=\"Enter password\"\n          onChange={(e) =>\n            setFormData({ ...formData, password: e.target.value })\n          }\n        />\n      </Form.Group>\n      <Form.Row>\n        <Button\n          variant=\"secondary\"\n          type=\"submit\"\n          onClick={() => setFormData(initialData)}\n        >\n          Clear\n        </Button>\n        <Button\n          variant=\"warning\"\n          type=\"submit\"\n          onClick={handleSubmit}\n          className={\"ml-5\"}\n        >\n          Login\n        </Button>\n      </Form.Row>\n    </Container>\n  ) : (\n    <Container className={\"mt-5\"}>\n      {error1 !== \"\" && <Alert variant={\"danger\"}>{error1}</Alert>}\n      <Form.Group>\n        <Form.Label>Question</Form.Label>\n        <Form.Control type=\"text\" value={newData.question} disabled={true} />\n      </Form.Group>\n      <Form.Group controlId=\"formBasicEmail\">\n        <Form.Label>Answer</Form.Label>\n        <Form.Control\n          type=\"text\"\n          value={newData.answer}\n          placeholder=\"Enter your answer\"\n          onChange={(e) => setNewData({ ...newData, answer: e.target.value })}\n        />\n      </Form.Group>\n      <Form.Row>\n        <Button variant=\"warning\" type=\"submit\" onClick={handleAnswer}>\n          Submit\n        </Button>\n      </Form.Row>\n    </Container>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}