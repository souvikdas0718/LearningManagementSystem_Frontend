{"ast":null,"code":"var _jsxFileName = \"/Users/souvikdas/WebstormProjects/Group-9-Fronend/src/components/chat/index.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Container, Row, Col, Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction Chat(props) {\n  const [topic, setTopic] = useState(\"\");\n  const [onlineUsers, setOnlineUser] = useState([]);\n  const [submitTopic, setSubmitTopic] = useState(false);\n  const [disable, setDisable] = useState(true);\n  const [hidden, setHidden] = useState(true);\n  useEffect(() => {\n    if (topic.trim().length >= 3) {\n      setDisable(false);\n      setHidden(true);\n    } else {\n      setDisable(true);\n      setHidden(false);\n    }\n  }, [topic]);\n\n  const handleSubmitTopic = () => {\n    const email = localStorage.getItem(\"email\");\n    axios({\n      url: \"https://do3vuuv41l.execute-api.us-east-1.amazonaws.com/login/online\",\n      method: \"GET\"\n    }).then(res => {\n      // const temp = res.data[\"message\"];\n      const onlineUser = res.data.online;\n      console.log(\"IN SUCCESS\");\n      console.log(onlineUser);\n      console.log(typeof onlineUser);\n      axios({\n        url: \"https://us-central1-serverless-project-283717.cloudfunctions.net/createTopic\",\n        method: \"POST\",\n        data: {\n          topic_name: topic,\n          userID: [...onlineUser],\n          uniqueFileName: topic\n        }\n      }).then(res => {\n        console.log(\"IN SUCCESS\");\n        console.log(res);\n        localStorage.setItem('online', JSON.stringify(onlineUser));\n        localStorage.setItem('topic', topic);\n        props.history.push('/chatmain');\n      }).catch(({\n        response\n      }) => {\n        console.log(\"IN SUCCESS1\");\n        console.log(response);\n      });\n    }).catch(({\n      response\n    }) => {\n      console.log(\"IN ERROR\");\n      console.log(response);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Topic Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter topic name\",\n    value: topic,\n    onChange: e => setTopic(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    hidden: hidden,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Enter Valid Topic\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"success\",\n    onClick: handleSubmitTopic,\n    disabled: disable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Create\"));\n}\n\nexport default Chat;","map":{"version":3,"sources":["/Users/souvikdas/WebstormProjects/Group-9-Fronend/src/components/chat/index.js"],"names":["React","useState","useEffect","useContext","Container","Row","Col","Form","Button","Alert","axios","Chat","props","topic","setTopic","onlineUsers","setOnlineUser","submitTopic","setSubmitTopic","disable","setDisable","hidden","setHidden","trim","length","handleSubmitTopic","email","localStorage","getItem","url","method","then","res","onlineUser","data","online","console","log","topic_name","userID","uniqueFileName","setItem","JSON","stringify","history","push","catch","response","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Container, Row, Col, Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction Chat(props) {\n  const [topic, setTopic] = useState(\"\");\n  const [onlineUsers, setOnlineUser] = useState([]);\n  const [submitTopic, setSubmitTopic] = useState(false);\n  const [disable, setDisable] = useState(true);\n  const [hidden, setHidden] = useState(true);\n\n  useEffect(() => {\n    if (topic.trim().length >= 3) {\n      setDisable(false);\n      setHidden(true);\n    } else {\n      setDisable(true);\n      setHidden(false);\n    }\n  }, [topic]);\n\n  const handleSubmitTopic = () => {\n    const email = localStorage.getItem(\"email\");\n\n    axios({\n      url:\n        \"https://do3vuuv41l.execute-api.us-east-1.amazonaws.com/login/online\",\n      method: \"GET\",\n    })\n      .then((res) => {\n        // const temp = res.data[\"message\"];\n        const onlineUser = res.data.online\n        console.log(\"IN SUCCESS\");\n        console.log(onlineUser);\n        console.log(typeof(onlineUser));\n        axios({\n          url:\n            \"https://us-central1-serverless-project-283717.cloudfunctions.net/createTopic\",\n          method: \"POST\",\n          data: {\n            topic_name: topic,\n            userID: [...onlineUser],\n            uniqueFileName: topic,\n          }\n        })\n          .then((res) => {\n            console.log(\"IN SUCCESS\");\n            console.log(res);\n            localStorage.setItem('online', JSON.stringify(onlineUser));\n            localStorage.setItem('topic', topic);\n            props.history.push('/chatmain')\n          })\n          .catch(({ response }) => {\n            console.log(\"IN SUCCESS1\");\n            console.log(response);\n          });\n      })\n      .catch(({ response }) => {\n        console.log(\"IN ERROR\");\n        console.log(response);\n      });\n  };\n\n  return (\n    <Container className={\"mt-5 p-0\"}>\n      <Form.Group>\n        <Form.Label>Topic Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Enter topic name\"\n          value={topic}\n          onChange={(e) => setTopic(e.target.value)}\n        />\n      </Form.Group>\n      <Alert variant=\"danger\" hidden={hidden}>\n        Enter Valid Topic\n      </Alert>\n      <Button variant=\"success\" onClick={handleSubmitTopic} disabled={disable}>\n        Create\n      </Button>\n    </Container>\n  );\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}